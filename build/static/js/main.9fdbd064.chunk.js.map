{"version":3,"sources":["Navbar.js","BlogList.js","useFetch.js","Home.js","Create.js","BlogDetails.js","NotFound.js","App.js","index.js"],"names":["Navbar","className","to","BlogList","data","title","map","elem","id","author","useFetch","url","useState","setData","isPending","setIsPending","error","setError","useEffect","abortCont","AbortController","fetch","signal","then","res","ok","Error","console","log","json","catch","err","name","message","abort","Home","Create","history","useHistory","setTitle","body","setBody","setAuthor","onSubmit","e","preventDefault","blog","method","headers","JSON","stringify","push","type","required","value","onChange","target","BlogDetails","useParams","onClick","Link","require","NotFound","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9fdbd064.chunk.js","sourcesContent":["import \"./index.css\";\nimport { Link } from \"react-router-dom\";\nconst Navbar = () => {\n  return (\n    <nav className=\"navbar\">\n      <h1>The Dojo blog</h1>\n      <div className=\"links\">\n        <Link to=\"/\">Home </Link>\n        <Link to=\"/create\">New Blog</Link>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import { Link } from \"react-router-dom\";\nimport \"./index.css\";\nconst BlogList = ({ data, title }) => {\n  return (\n    <>\n      <h2 className=\"title\">{title}</h2>\n      {data.map((elem) => (\n        <div className=\"blog-preview\" key={elem.id}>\n          <Link to={`/blogs/${elem.id}`}>\n            <h2>{elem.title}</h2>\n            <p>written by {elem.author}</p>\n          </Link>\n        </div>\n      ))}\n    </>\n  );\n};\n\nexport default BlogList;\n","import { useState, useEffect } from \"react\";\n\nconst useFetch = (url) => {\n  const [data, setData] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const abortCont = new AbortController();\n    fetch(url, { signal: abortCont.signal })\n      .then((res) => {\n        if (!res.ok) {\n          throw Error(\"could not fetch data\");\n        }\n        console.log(res);\n        return res.json();\n      })\n      .then((data) => {\n        // console.log(data);\n        setData(data);\n        setIsPending(false);\n        setError(null);\n      })\n      .catch((err) => {\n        if(err.name === \"AbortError\"){\n          console.log(\"fetch aborted\");\n        }\n        else{\n          setIsPending(false)\n          setError(err.message)\n        }\n\n      });\n    return () => abortCont.abort();\n  }, [url]);\n  return { data, isPending, error };\n};\n\nexport default useFetch;\n","import BlogList from \"./BlogList\";\nimport useFetch from \"./useFetch\";\nconst Home = () => {\n  const { data, isPending, error } = useFetch('http://localhost:8000/blogs');\n\n  return (\n    <div className=\"Home\">\n      {isPending && <div>Loading...</div>}\n      {error && <div>{error}</div>}\n      {data && <BlogList data={data} title=\"All Blogs!\" />}\n    </div>\n  );\n};\n\nexport default Home;\n","import { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./index.css\";\nconst Create = () => {\n  const history = useHistory();\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [author, setAuthor] = useState(\"mario\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const blog = { title, body, author };\n    fetch(\" http://localhost:8000/blogs/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(blog),\n    }).then(() => history.push(\"/\"));\n  };\n\n  return (\n    <div className=\"create\">\n      <h2>Add a new blog!</h2>\n      <form onSubmit={handleSubmit}>\n        <label> Blog title:</label>\n        <input\n          type=\"text\"\n          required\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        <label> Blog body</label>\n        <textarea required onChange={(e) => setBody(e.target.value)}></textarea>\n        <label>Blog author:</label>\n        <select value={author} onChange={(e) => setAuthor(e.target.value)}>\n          <option value=\"mario\">mario</option>\n          <option value=\"nikita\">nikita</option>\n        </select>\n        <button>add blog</button>\n      </form>\n    </div>\n  );\n};\n\nexport default Create;\n","import { useHistory, useParams } from \"react-router-dom\";\nimport useFetch from \"./useFetch\";\nimport \"./index.css\";\n\nconst BlogDetails = () => {\n  let { id } = useParams();\n  const { data: blog, error } = useFetch(\" http://localhost:8000/blogs/\" + id);\n  const history = useHistory();\n  \n  const handleClick = () => {\n    fetch('http://localhost:8000/blogs/' + blog.id,{\n    method:'DELETE' \n    }).then(()=>{\n    history.push('/');\n    })}\n\n  return (\n    <div className=\"blog-details\">\n      {error && <div>{error}</div>}\n      {blog && (\n        <article>\n          <h2>{blog.title}</h2>\n          <p>written by {blog.author}</p>\n          <div>{blog.body}</div>\n          <button onClick={handleClick}>Delete</button>\n        </article>\n      )}\n    </div>\n  );\n};\n\nexport default BlogDetails;\n","const { Link } = require(\"react-router-dom\")\n\nconst NotFound = () => {\n    return ( \n       <div className=\"not-found\">\n           <h2>Sorry</h2>\n           <p>That page cannot be found</p>\n            <Link to=\"/\"> Back to homepage...</Link>\n       </div> \n     );\n}\n \nexport default NotFound;","import Navbar from \"./Navbar\";\nimport Home from \"./Home\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Create from \"./Create\";\nimport BlogDetails from \"./BlogDetails\";\nimport NotFound from \"./NotFound\";\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Navbar />\n        <div className=\"content\">\n          <Switch>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n            <Route  path=\"/create\">\n              <Create />\n            </Route>\n            <Route path=\"/blogs/:id\">\n              <BlogDetails/>\n            </Route>\n            <Route path = \"*\">\n              <NotFound/>\n            </Route>\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}